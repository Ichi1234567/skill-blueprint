---
name: blueprint-abandon
description: 廢棄當前進行中的藍圖，移到 abandoned 目錄。當決定不再繼續某個藍圖時使用。
---

# Blueprint Abandon - 廢棄藍圖

將當前藍圖標記為廢棄，移到 `abandoned/` 目錄。

## 核心功能

- 廢棄當前藍圖並記錄原因
- 更新狀態為 "Abandoned"
- 保留所有資訊供日後參考

## 執行流程

**鎖定機制**：所有檔案操作在鎖定下執行（見 `guides/COMMON_PATTERNS.md#鎖定機制`）

1. **檢查藍圖**
   - 檢查 `.blueprint/blueprint.md` 是否存在
   - 不存在 → 提示「沒有藍圖可廢棄」

2. **確認意圖**
   - 讀取藍圖資訊（功能名稱、類型、狀態）
   - 明確說「廢棄藍圖」→ 跳過確認
   - 否則詢問：「確定要廢棄嗎？⚠️ 廢棄後移到 abandoned/ 目錄」

3. **讀取原因**
   - 訊息中已說明 → 直接使用
   - 未提到 → 詢問「為什麼要廢棄？（可跳過）」
   - 跳過 → 原因留空

4. **更新藍圖**
   - 使用 Edit 更新：
     - 「狀態」改為 "Abandoned"
     - 加上「廢棄時間」和「廢棄原因」
   - 格式：
     ```markdown
     **狀態**: Abandoned
     **廢棄時間**: 2025-12-24
     **廢棄原因**: [原因或留空]
     ```

5. **執行廢棄**
   - 使用資料夾結構（見 `guides/COMMON_PATTERNS.md#歸檔資料夾結構`）
   - 資料夾名：`{廢棄日期}-{類型}-{slug}`
   - 移動 `blueprint.md` + `reports/` + `plans/`
   - 回報：
     ```
     ✓ 藍圖已廢棄
     資料夾：.blueprint/abandoned/{資料夾名}/
     功能：{功能名稱}
     廢棄原因：{原因}

     已移除進行中的藍圖，可以開始新的藍圖了。
     ```

## 注意事項

- 廢棄會將狀態改為 "Abandoned"
- 所有階段進度和關聯資訊保留
- 檔名日期是「廢棄日期」非「建立日期」
- 廢棄是不可逆操作（不建議恢復）
